DROP TABLE AJA185CORE.TBL_BOOK_AUTHOR_1190848 CASCADE CONSTRAINTS;

CREATE TABLE AJA185CORE.TBL_BOOK_AUTHOR_1190848
	(
	AUTHOR_ID NUMBER (5) NOT NULL,
	BOOK_ID   NUMBER (5) NOT NULL,
	PRIMARY KEY (AUTHOR_ID, BOOK_ID),
	FOREIGN KEY (AUTHOR_ID) REFERENCES AJA185CORE.TBL_AUTHOR_1190848 (AUTHOR_ID),
	FOREIGN KEY (BOOK_ID) REFERENCES AJA185CORE.TBL_BOOK_1190848 (BOOK_ID)
	)
	TABLESPACE AJA185CORE
	LOGGING
	NOCACHE
	STORAGE (BUFFER_POOL DEFAULT);


DROP TABLE AJA185CORE.TBL_BOOK_1190848 CASCADE CONSTRAINTS;

CREATE TABLE AJA185CORE.TBL_BOOK_1190848
	(
	BOOK_ID NUMBER (5) NOT NULL,
	TITLE   VARCHAR2 (200),
	PRICE   NUMBER (7,3),
	PAGES   NUMBER (5),
	PRIMARY KEY (BOOK_ID)
	)
	TABLESPACE AJA185CORE
	LOGGING
	NOCACHE
	STORAGE (BUFFER_POOL DEFAULT);

DROP TABLE AJA185CORE.TBL_TRAIN_1120540 CASCADE CONSTRAINTS;

CREATE TABLE AJA185CORE.TBL_TRAIN_1120540
	(
	TRAIN_ID   NUMBER (5) NOT NULL,
	TRAIN_NAME VARCHAR2 (200) NOT NULL,
	START_LOC  VARCHAR2 (200) NOT NULL,
	END_LOC    VARCHAR2 (200),
	STATUS     VARCHAR2 (10),
	PRIMARY KEY (TRAIN_ID)
	)
	TABLESPACE AJA185CORE
	LOGGING
	NOCACHE
	STORAGE (BUFFER_POOL DEFAULT);



SELECT * FROM TBL_BOOK_1190848;
SELECT * FROM TBL_AUTHOR_1190848;
SELECT * FROM TBL_BOOK_AUTHOR_1190848;


SELECT AUTHOR_NAME,CITY,SUM(PAGES) FROM TBL_AUTHOR_1190848,TBL_BOOK_1190848,TBL_BOOK_AUTHOR_1190848 WHERE TBL_BOOK_AUTHOR_1190848.AUTHOR_ID=TBL_AUTHOR_1190848.AUTHOR_ID AND TBL_BOOK_1190848.BOOK_ID= TBL_BOOk_AUTHOR_1190848.BOOK_ID GROUP BY TBL_AUTHOR_1190848.AUTHOR_NAME,TBL_AUTHOR_1190848.city;

SELECT AUTHOR_NAME,TITLE,PAGES FROM TBL_AUTHOR_1190848,TBL_BOOK_1190848,TBL_BOOK_AUTHOR_1190848 WHERE TBL_BOOK_AUTHOR_1190848.AUTHOR_ID=TBL_AUTHOR_1190848.AUTHOR_ID AND TBL_BOOK_1190848.BOOK_ID= TBL_BOOk_AUTHOR_1190848.BOOK_ID;
SELECT AUTHOR_NAME,CITY,SUM(PAGES) FROM TBL_AUTHOR_1190848,TBL_BOOK_1190848,TBL_BOOK_AUTHOR_1190848 WHERE TBL_BOOK_AUTHOR_1190848.AUTHOR_ID=TBL_AUTHOR_1190848.AUTHOR_ID AND TBL_BOOK_1190848.BOOK_ID= TBL_BOOk_AUTHOR_1190848.BOOK_ID GROUP BY TBL_AUTHOR_1190848.AUTHOR_NAME,TBL_AUTHOR_1190848.city;



CREATE TABLE TBL_TRAIN_1190848(
	TRAIN_ID   NUMBER (5) NOT NULL,
	TRAIN_NAME VARCHAR2 (200) NOT NULL,
	START_LOC  VARCHAR2 (200) NOT NULL,
	END_LOC    VARCHAR2 (200),
	STATUS     VARCHAR2 (10),
	PRIMARY KEY (TRAIN_ID)
);

SELECT * FROM TBL_TRAIN_1190848;

DROP TABLE AJA185CORE.TBL_CUSTOMER_1120540 CASCADE CONSTRAINTS;

CREATE TABLE AJA185CORE.TBL_CUSTOMER_1120540
	(
	CUST_ID    NUMBER (5) NOT NULL,
	FIRST_NAME VARCHAR2 (100),
	LAST_NAME  VARCHAR2 (100),
	GENDER     VARCHAR2 (10),
	CONTACT    NUMBER (10),
	PRIMARY KEY (CUST_ID)
	)
	TABLESPACE AJA185CORE
	LOGGING
	NOCACHE
	STORAGE (BUFFER_POOL DEFAULT);

	CREATE TABLE TBL_CUSTOMER_1190848
	(
	CUST_ID    NUMBER (5) NOT NULL,
	FIRST_NAME VARCHAR2 (100),
	LAST_NAME  VARCHAR2 (100),
	GENDER     VARCHAR2 (10),
	CONTACT    NUMBER (10),
	PRIMARY KEY (CUST_ID)
	);
	SELECT * FROM CUSTOMER_1190848;

CREATE TABLE AJA185CORE.TBL_BOOKING_1190848
	(
	BOOKING_ID   NUMBER (20) NOT NULL,
	CUST_ID      NUMBER (5),
	TARIN_ID     NUMBER (5),
	PRICE        NUMBER (7,2),
	JOURNEY_DATE DATE,
	PRIMARY KEY (BOOKING_ID),
	FOREIGN KEY (CUST_ID) REFERENCES AJA185CORE.TBL_CUSTOMER_1120540 (CUST_ID),
	FOREIGN KEY (TARIN_ID) REFERENCES AJA185CORE.TBL_TRAIN_1120540 (TRAIN_ID)
	)
	TABLESPACE AJA185CORE
	LOGGING
	NOCACHE
	STORAGE (BUFFER_POOL DEFAULT);